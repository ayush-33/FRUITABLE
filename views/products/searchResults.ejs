<% layout("layouts/boilerplate") %>
<style>
  .text {
    font-size: 1.2rem;
    font-weight: 600;
    color: #71c408;
  }
  .head {
    font-size: 1.5rem;
    font-weight: bold;
    color: #71c408;
  }
</style>
<div class="container mt-4">
  <h3>Search Results for "<%= query %>"</h3>

  <% if (results.length === 0) { %>
    <p>No products found matching your search.</p>
  <% } else { %>
   <div class="row">
  <% results.forEach(product => { %>
    <div class="col-md-4 mb-4">
      <a href="/product/<%= product._id %>" class="text-decoration-none text-dark">
        <div class="card p-3 h-100">
          <% if (product.image && product.image.url) { %>
            <img src="<%= product.image.url %>" class="card-img-top mb-3" alt="<%= product.name %>" style="max-height: 200px; object-fit: contain;">
          <% } else { %>
            <img src="/images/default-product.png" class="card-img-top mb-3" alt="No image available" style="max-height: 200px; object-fit: contain;">
          <% } %>
          <h5 class="head"><%= product.name %></h5>
          <p class="text"><strong>Category:</strong> <%= product.category %></p>
          <p class="text"><strong>Price:</strong> â‚¹<%= product.price %></p>
        </div>
      </a>
    </div>
  <% }) %>
</div>
  <% } %>
</div>


